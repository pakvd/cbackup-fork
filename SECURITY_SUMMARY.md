# üîí –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## ‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1. **Docker Security**
- ‚úÖ MySQL –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç –Ω–∞—Ä—É–∂—É (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–∏)
- ‚úÖ Redis —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–∞—Ä–æ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ Worker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç prepared statements

### 2. **Nginx Security**
- ‚úÖ Security headers:
  - `X-Frame-Options: SAMEORIGIN`
  - `X-Content-Type-Options: nosniff`
  - `X-XSS-Protection: 1; mode=block`
  - `Referrer-Policy: strict-origin-when-cross-origin`
- ‚úÖ –°–∫—Ä—ã—Ç–∞ –≤–µ—Ä—Å–∏—è —Å–µ—Ä–≤–µ—Ä–∞ (`server_tokens off`)
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
- ‚úÖ `open_basedir` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è PHP

### 3. **PHP Security**
- ‚úÖ `expose_php = Off` (—Å–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é PHP)
- ‚úÖ –û—à–∏–±–∫–∏ —Å–∫—Ä—ã—Ç—ã –≤ production
- ‚úÖ –û–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã:
  - `exec`, `passthru`, `shell_exec`, `system`
  - `proc_open`, `popen`
  - `curl_exec`, `curl_multi_exec`
  - `parse_ini_file`, `show_source`

### 4. **Application Security**
- ‚úÖ Yii2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (SQL injection –∑–∞—â–∏—Ç–∞)
- ‚úÖ HtmlPurifier –¥–ª—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ (XSS –∑–∞—â–∏—Ç–∞)
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ About page
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è Production:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
1. **–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏** - —Å–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–∑ `.env.example` —Å —Å–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Redis –ø–∞—Ä–æ–ª—å** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `REDIS_PASSWORD` –≤ `.env`
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS** - –¥–æ–±–∞–≤—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è production
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firewall** - –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
3. –í–∫–ª—é—á–∏—Ç–µ HSTS header (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ HTTPS)
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Content-Security-Policy (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

1. **PHP disable_functions**: –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSH/Telnet/SFTP –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏, –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.

2. **Redis –ø–∞—Ä–æ–ª—å**: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–∞—Ä–æ–ª—è. –î–ª—è production —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `REDIS_PASSWORD` –≤ `.env` —Ñ–∞–π–ª–µ.

3. **.env —Ñ–∞–π–ª**: –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ git (–æ–Ω —É–∂–µ –≤ .gitignore). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.example` –∫–∞–∫ —à–∞–±–ª–æ–Ω.

## üìä –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: **–°—Ä–µ–¥–Ω–∏–π ‚Üí –í—ã—Å–æ–∫–∏–π**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ production —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (HTTPS, —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏).

