# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. –ü–∞—Ä–æ–ª–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã
- [ ] **–ò–ó–ú–ï–ù–ò–¢–¨ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –≤ `.env`:
  - `MYSQL_PASSWORD` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `cbackup_secure_2024`)
  - `MYSQL_ROOT_PASSWORD` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `root_secure_2024`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `.env` –Ω–µ –ø–æ–ø–∞–ª –≤ Git (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore`)
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã+—Ü–∏—Ñ—Ä—ã+—Å–∏–º–≤–æ–ª—ã)

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `YII_DEBUG=false` –≤ production (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `YII_ENV=prod` –≤ production (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ debug toolbar –æ—Ç–∫–ª—é—á–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `YII_DEBUG=false`)

### 3. –£—è–∑–≤–∏–º–æ—Å—Ç–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ)
- ‚úÖ **SnakeYAML** –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ 2.2 (–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç CVE-2022-1471)
- ‚úÖ **Logback** –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ 1.2.13 (–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç CVE-2023-6378, CVE-2023-6481)
- ‚úÖ **Spring Framework** –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ 5.3.39 (–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç CVE-2024-38808)
- ‚úÖ **Apache Commons Net** –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ 3.9.0 (–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç CVE-2021-37533)

### 4. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
- ‚ö†Ô∏è **CVE-2025-22235** (Spring Boot 2.7.18):
  - **–†–µ—à–µ–Ω–∏–µ 1**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ Spring Boot 3.3.11+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
  - **–†–µ—à–µ–Ω–∏–µ 2**: –û—Ç–∫–ª—é—á–∏—Ç—å actuator endpoints –≤ `application.properties`:
    ```properties
    management.endpoints.enabled-by-default=false
    management.endpoint.*.enabled=false
    ```
- ‚ö†Ô∏è **CVE-2024-38820** (Spring Framework 5.3.39):
  - –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç Spring Framework 5.3.40+ (–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ Maven Central)
  - –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç–µ –¥–æ Spring Boot 3.x (Spring Framework 6.x)

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞
- ‚úÖ **exec() —Ñ—É–Ω–∫—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, —Ç–æ–ª—å–∫–æ –æ—Ç root/www-data, —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –§–∞–π–ª `application.properties` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (755 –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, 644 –¥–ª—è —Ñ–∞–π–ª–∞)
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–¥**: –£–¥–∞–ª–µ–Ω –∏–∑ production (console.log, console.error)
- ‚úÖ **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (–º–∏–Ω–∏–º—É–º 4GB RAM, 10GB –¥–∏—Å–∫–∞)

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ç–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `NGINX_PORT` –≤ `.env` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8080)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω HTTPS)

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MySQL –ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3306)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `db_data` volume —Å–æ–∑–¥–∞–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è application.properties
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª `application.properties` —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `docker compose exec web ls -la /var/www/html/bin/`
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É: `docker compose exec web php yii sync-properties/check`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "Mismatched data" –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è: `docker compose ps`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: `http://localhost:8080`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É/–ø–µ—Ä–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Java worker (—Å—Ç–∞—Ç—É—Å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ)

### 2. –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker compose logs`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] README.md —Å–æ–∑–¥–∞–Ω –∏ –∞–∫—Ç—É–∞–ª–µ–Ω
- [x] QUICKSTART.md —Å–æ–∑–¥–∞–Ω
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é (update page)

## ‚öôÔ∏è Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `.env` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

```env
# Database
MYSQL_PASSWORD=<–°–õ–û–ñ–ù–´–ô_–ü–ê–†–û–õ–¨>
MYSQL_ROOT_PASSWORD=<–°–õ–û–ñ–ù–´–ô_ROOT_–ü–ê–†–û–õ–¨>

# Web Server
NGINX_PORT=80  # –∏–ª–∏ 443 –¥–ª—è HTTPS
NGINX_SSL_PORT=443

# PHP (production mode)
YII_DEBUG=false
YII_ENV=prod

# Java Worker
JAVA_OPTS=-Xmx1024m -Xms512m  # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –≤–∞—à–∏ —Ä–µ—Å—É—Ä—Å—ã
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "Update" –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–ª–∏ –≤ `README.md`.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Spring Boot 2.7.x EOL**: Spring Boot 2.7.x –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ Spring Boot 3.x –≤ –±—É–¥—É—â–µ–º.

2. **–£—è–∑–≤–∏–º–æ—Å—Ç–∏**: –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ Spring Boot 3.3.11+, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ.

3. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose ps

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs --tail=50

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl http://localhost:8080

# 4. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã (–µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
docker compose build --no-cache
docker compose up -d
```

---

**–í–µ—Ä—Å–∏—è**: 2024-10-31
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É (—Å —É—á–µ—Ç–æ–º –∑–∞–º–µ—á–∞–Ω–∏–π –≤—ã—à–µ)

